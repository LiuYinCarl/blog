## 点积（dot product）

又称为标量积(scalar product) 或内积(inner product)。

两矢量的点积结果是一个标量，此标量定义为两矢量中每对分量乘积之和。
$$
a \cdot b = {a_x}{b_x} + {a_y}{b_y} + {a_z}{b_z} = d
$$
也可以写成两矢量的模相乘后，再乘以两矢量间夹角的余弦。
$$
a \cdot b = |a| |b | \cos(\theta)
$$

## 叉积(cross product)

又称为矢量积(vector product) 或外积(outer product)。

两个矢量的叉积会产生另一个矢量，该矢量垂直于原来的两个相乘矢量，叉积运算只定义于三维空间。
$$
\begin{align}

a \times b &= [({a_y}{b_z}-{a_z}{b_y}), ({a_z}{b_x}-{a_x}{b_z}), ({a_x}{b_y}-{a_y}{b_x})] \\
&= ({a_y}{b_z}-{a_z}{b_y})i + ({a_z}{b_x}-{a_x}{b_z})j + ({a_x}{b_y}-{a_y}{b_x})k

\end{align}
$$
叉积的模等于两矢量各自的模再乘以两矢量夹角的正弦。
$$
|a \times b| = |a||b|\sin(\theta)
$$

### 叉积的特性

不符合交换律，符合反交换律。
$$
a \times b = -b \times a
$$
在加法上符合分配律。
$$
a \times (b + c) = (a \times b) + (a \times c)
$$
叉积和标量乘法之间可如下结合。
$$
(sa) \times b = a \times (sb) = s(a \times b)
$$
笛卡尔基矢量之间有如下叉积关系。
$$
\begin{align}

i \times j = -(j \times i) = k \\
j \times k = -(k \times j) = i \\
k \times i = -(i \times k) = j \\

\end{align}
$$
这三个叉积定义了笛卡尔轴的正旋方向。正旋自 $x$ 到 $y$ (绕 $z$ 轴)，自 $y$ 到 $z$ （绕 $x$ 轴），自 $z$ 到 $x$ （绕 $y$ 轴）。绕 $y$ 轴旋转时，是按反字母顺序自 $z$ 到 $x$ 的。这可以用来解释为何绕 $y$ 轴的旋转矩阵，相对于绕 $x$, $z$ 轴的旋转矩阵而言，是倒转的。

## 点和矢量的线性插值

线性插值(liner interpolation) 简写为 LERP。定于如下，其中 $\beta$ 介于并包含 0 - 1。
$$
\begin{align}

L &= LERP(A, B, \beta) = (1-\beta)A + \beta{B} \\
&= [(1- \beta){A_x} + \beta{B_x}, (1 - \beta){A_y} + \beta{B_y}, (1-\beta){A_z} + \beta{B_z}]

\end{align}
$$
线性插值从数学上可以理解为两矢量的加权平均(weighted average)，两矢量的权重分别为 $(1-\beta)$ 和 $\beta$。

## 矩阵

我们可以视 $3 \times 3$ 矩阵的行和列为三维矢量。若某 $3 \times 3$ 矩阵中的所有行和列矢量为单位矢量，则称该矩阵为特殊正交矩阵、各向同性矩阵或标准正交矩阵。这种矩阵表示纯旋转。

在某些条件下，$4 \times 4$ 矩阵可表示任意三维变换，包括平移、旋转和缩放。这种矩阵称为变换矩阵。

两矩阵 $A$ 和 $B$ 的积 $P$ 写作 $P = AB$。若 $A$ 和 $B$ 为变换矩阵，则其积 $P$ 也是变换矩阵，而且以 $P$ 进行变换时，等同于进行 $A$ 和 $B$ 两者的变换。例如，$A$ 为缩放矩阵，$B$ 为旋转矩阵，则矩阵 $P$ 能对点或矢量进行缩放和旋转变换。

矩阵乘法不符合交换律。
$$
AB \neq BA
$$

### 单位矩阵

单位矩阵是指，它乘以任何其他矩阵，都会得出和原来一样的矩阵。单位矩阵通常写作 $I$。
$$
\begin{align}
I_{3 \times 3} = 
\begin{bmatrix}
1 & 0 & 0 \\
0 & 1 & 0 \\
0 & 0 & 1 \\

\end{bmatrix}
\\
AI = IA = A

\end{align}
$$

### 逆矩阵

矩阵 $A$ 的逆矩阵（inverse matrix） $A^{-1}$ 能还原矩阵 $A$ 的变换。若一个矩阵乘以它的逆矩阵，结果必然是单位矩阵。

$$
\begin{align}
& A(A^{-1}) = (A^{-1})A = I
\\
& (ABC)^{-1} = C^{-1}B^{-1}A^{-1}

\end{align}
$$

### 转置矩阵

矩阵 $M$ 的转置(transpose)写作 $M^T$。转置矩阵就是把原来矩阵以主对角线为对称轴做反射，就是矩阵的行与列相互转换。
$$
\begin{align}

& \begin{bmatrix} 
a & b & c \\
d & e & f \\
g & h & i \\
\end{bmatrix} ^ \mathrm{T}
= 
\begin{bmatrix}
a & d & g \\
b & e & h \\
f & f & i \\
\end{bmatrix} 
\\[5pt]
& (ABC)^{T} = C^{T}B^{T}A^{T}

\end{align}
$$

### 齐次坐标

二维中的旋转可以用 $2 \times 2$ 矩阵来表示，要把矢量 $r$ 旋转 $\theta$ 度（正旋是逆时针方向）, 可以写作。
$$
\begin{align}
\begin{bmatrix}
r{'}_x & r{'}_y 
\end{bmatrix}
=
\begin{bmatrix}
r_x & r_y
\end{bmatrix}
=
\begin{bmatrix}
\cos(\theta) & \sin(\theta) \\
-\sin(\theta) & \cos(\theta)
\end{bmatrix}
\end{align}
$$

三维中的旋转也可以用 $3 \times 3$ 矩阵表示。上面的二维例子其实就是三维中绕 $z$ 轴的旋转，因此可写成。
$$
\begin{align}
\begin{bmatrix}
r_x{'} & r_y{'} & r_z{'}
\end{bmatrix}
=
\begin{bmatrix}
r_x & r_y & r_z
\end{bmatrix}
\begin{bmatrix}
\cos(\theta) & \sin(\theta) & 0 \\
-\cos(\theta) & \cos(\theta) & 0 \\
0 & 0 & 1
\end{bmatrix}
\end{align}
$$
但是 $3 \times 3 $ 矩阵不可以表示平移。

$4 \times 4$ 矩阵可以表示平移。当点或矢量从三维拓展至四维，便称为齐次坐标。在游戏引擎中，大多数三维矩阵都采用 $4 \times 4$ 矩阵，与 4 元素的齐次坐标点或矢量进行运算。

四维的齐次坐标转换成三维的非齐次坐标的方法：
$$
\begin{align}
\begin{bmatrix}
x & y & z & w
\end{bmatrix}
= 
\begin{bmatrix}
\frac{x}{w} & \frac{y}{w} & \frac{z}{w}
\end{bmatrix}

\end{align}
$$

#### 基础变换矩阵

$4 \times 4$ 变换矩阵可切割成 4 个组成部分。
$$
\begin{align}
\begin{bmatrix}
U_{3 \times 3} & 0_{3 \times 1} \\
t_{1 \times 3} & 1 \\
\end{bmatrix}
\end{align}
$$
左上角的代表缩放和旋转，左下角的是平移矢量。

当一点乘以这个矩阵的时候，结果如下：
$$
\begin{align}
\begin{bmatrix}
r_{1 \times 3}{'} & 1
\end{bmatrix}
=
\begin{bmatrix}
r_{1 \times 3} & 1
\end{bmatrix}
\begin{bmatrix}
U_{3 \times 3} & 0_{3 \times 1} \\
t_{1 \times 3} & 1 \\
\end{bmatrix}
=
\begin{bmatrix}
(rU + t) & 1
\end{bmatrix}
\end{align}
$$
